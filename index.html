<html>
<head>
	<title>Status Reporting App in React.js using Appbase </title>
	<script src="https://fb.me/react-0.13.3.js"></script>
	<script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
	<script src="bower_components/appbase-js/browser/appbase.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body>
	<div id="container">
	</div>
	<script type="text/jsx">

		var Input = React.createClass({
		  componentDidMount: function() {
			this.refs.statusInput.getDOMNode().focus(); 
	   	  },
		  render: function () {
		    return (
		    	<div className="statusInput">
		    		<h1>What are you doing?</h1>
		    		<input type = "text" onKeyPress = {this._handleKeyPress} placeholder="Going for skiing" ref="statusInput" />
		    	</div>
		    )

		  },
		  _handleKeyPress: function(e) {
		    if (e.key === 'Enter') {
		      console.log('Enter pressed!');
		      this.props.onSubmit();
		    }
		  }
		});
		
		var StreamBrowser = React.createClass({

			// Set the initial props
			getDefaultProps: function() {
				return {
					app_name: 'workingon',
					username: 'iiyvFcb3A',
					password: 'b3a36a4d-e517-451c-a04f-a11dc2c4b4bc',
					type: 'feed'
				};
			},

			// Set the initial component state
			getInitialState: function(){
				return {

				};
			},
		
			addStatus: function(post){
				console.log("Status Added!");
		  	},

			render: function() {
				return (
					<Input onSubmit={this.addStatus}/>
				);
			}
		
		});
		
		React.render(
		  <StreamBrowser />,
		  document.getElementById('container')
		);
	</script>

</body>
</html>